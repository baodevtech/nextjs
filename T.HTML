<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√≤ng Xoay May M·∫Øn T·∫øt - B·∫£n In</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap');

        body {
            margin: 0;
            padding: 20px;
            background-color: white; /* N·ªÅn tr·∫Øng theo y√™u c·∫ßu */
            font-family: 'Roboto', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        h1 {
            color: #d32f2f;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .instruction {
            margin-bottom: 20px;
            color: #555;
            font-style: italic;
        }

        canvas {
            border: 2px dashed #ccc; /* ƒê∆∞·ªùng vi·ªÅn n√©t ƒë·ª©t ƒë·ªÉ d·ªÖ cƒÉn c·∫Øt gi·∫•y */
            border-radius: 50%;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* ƒê·∫£m b·∫£o khi in v·∫´n gi·ªØ m√†u s·∫Øc */
        @media print {
            body { 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact; 
            }
            .no-print {
                display: none;
            }
            canvas {
                box-shadow: none;
                border: none;
            }
        }

        .btn-print {
            background-color: #d32f2f;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .btn-print:hover {
            background-color: #b71c1c;
        }
    </style>
</head>
<body>

    <h1 class="no-print">V√≤ng Xoay May M·∫Øn (B·∫£n In)</h1>
    <p class="instruction no-print">Nh·∫•n n√∫t b√™n d∆∞·ªõi ho·∫∑c Ctrl+P ƒë·ªÉ in. C·∫Øt theo ƒë∆∞·ªùng vi·ªÅn tr√≤n.</p>
    <button class="btn-print no-print" onclick="window.print()">üñ®Ô∏è IN NGAY</button>

    <!-- Canvas ƒë·ªô ph√¢n gi·∫£i cao ƒë·ªÉ in s·∫Øc n√©t -->
    <canvas id="luckyWheel" width="1600" height="1600" style="width: 800px; height: 800px;"></canvas>

    <script>
        const canvas = document.getElementById('luckyWheel');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;
        const centerX = width / 2;
        const centerY = height / 2;
        const radius = width / 2 - 20; // Ch·ª´a l·ªÅ m·ªôt ch√∫t

        // Danh s√°ch qu√†/th·ª≠ th√°ch ƒë√£ ƒë∆∞·ª£c XEN K·∫º v√† ph·ªëi 5 M√ÄU
        const segments = [
            // C·∫∑p 1: ƒê·ªè - V√†ng
            { text: "T·∫∑ng L√¨ X√¨ Cho\nNg∆∞·ªùi B√™n Ph·∫£i", color: "#D32F2F", textColor: "#FFFFFF" }, // ƒê·ªè ƒë·∫≠m
            { text: "B·ªëc 1 bao\nl√¨ x√¨ ngay", color: "#FFC107", textColor: "#000000" }, // V√†ng (ch·ªØ ƒëen cho r√µ)
            
            // C·∫∑p 2: H·ªìng - Xanh L√°
            { text: "U·ªëng 1 c·ªëc bia\n+ Ch√∫c T·∫øt li·ªÅn m·∫°ch \n kh√¥ng v·∫•p", color: "#E91E63", textColor: "#FFFFFF" }, // H·ªìng
            { text: "B·ªëc 1 bao\nl√¨ x√¨ ngay", color: "#2E7D32", textColor: "#FFFFFF" }, // Xanh l√° c√¢y ƒë·∫≠m
            
            // C·∫∑p 3: Xanh D∆∞∆°ng - ƒê·ªè
            { text: "Nh·∫£y t·∫°i ch·ªó 1 ph√∫t\n+ H√¥ 'T·∫øt Vui Qu√° Ta!'", color: "#1565C0", textColor: "#FFFFFF" }, // Xanh d∆∞∆°ng ƒë·∫≠m
            { text: "B·ªëc 1 bao\nl√¨ x√¨ ngay", color: "#D32F2F", textColor: "#FFFFFF" }, // ƒê·ªè ƒë·∫≠m

            // C·∫∑p 4: V√†ng - H·ªìng
            { text: "B·∫Øt ch∆∞·ªõc d√°ng ƒëi\nc·ªßa 1 ng∆∞·ªùi \n trong nh√≥m", color: "#FFC107", textColor: "#000000" }, // V√†ng
            { text: "B·ªëc 1 bao\nl√¨ x√¨ ngay", color: "#E91E63", textColor: "#FFFFFF" }, // H·ªìng

            // C·∫∑p 5: Xanh L√° - Xanh D∆∞∆°ng
            { text: "U·ªëng\n50%", color: "#2E7D32", textColor: "#FFFFFF" }, // Xanh l√° c√¢y ƒë·∫≠m
            { text: "B·ªëc 1 bao\nl√¨ x√¨ ngay", color: "#1565C0", textColor: "#FFFFFF" }  // Xanh d∆∞∆°ng ƒë·∫≠m
        ];

        const totalSegments = segments.length;
        const arc = (2 * Math.PI) / totalSegments; // G√≥c c·ªßa m·ªói ph·∫ßn (36 ƒë·ªô)

        function finalDraw() {
            ctx.clearRect(0, 0, width, height);

            // 1. Vi·ªÅn ngo√†i h·ªó tr·ª£ c·∫Øt
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius + 2, 0, 2 * Math.PI);
            ctx.lineWidth = 4;
            ctx.strokeStyle = "#ccc"; // M√†u x√°m nh·∫°t ƒë·ªÉ c·∫Øt
            ctx.stroke();

            segments.forEach((segment, i) => {
                const startAngle = i * arc - Math.PI / 2;
                const endAngle = startAngle + arc;

                // 2. V·∫Ω m√∫i m√†u
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.lineTo(centerX, centerY);
                ctx.fillStyle = segment.color;
                ctx.fill();
                ctx.lineWidth = 4;
                ctx.strokeStyle = "#ffffff"; // Vi·ªÅn tr·∫Øng gi·ªØa c√°c m√∫i
                ctx.stroke();

                // 3. V·∫Ω ch·ªØ
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + arc / 2); // Xoay v√†o gi·ªØa m√∫i
                
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                ctx.fillStyle = segment.textColor;
                ctx.font = "bold 42px Helvetica, Arial, sans-serif"; // Ch·ªânh c·ª° ch·ªØ ph√π h·ª£p

                const lines = segment.text.split('\n');
                const lineHeight = 50;
                // V·ªã tr√≠ ch·ªØ: n·∫±m kho·∫£ng 65% b√°n k√≠nh t√≠nh t·ª´ t√¢m ra
                const textRadius = radius * 0.65; 

                lines.forEach((line, j) => {
                    // T√≠nh to√°n y ƒë·ªÉ cƒÉn gi·ªØa kh·ªëi text
                    let yOffset = (j - (lines.length - 1) / 2) * lineHeight;
                    ctx.fillText(line, textRadius, yOffset);
                });

                ctx.restore();
            });

            // 4. T√¢m quay (n∆°i g·∫Øn tr·ª•c)
            ctx.beginPath();
            ctx.arc(centerX, centerY, 40, 0, 2 * Math.PI);
            ctx.fillStyle = "white";
            ctx.fill();
            ctx.lineWidth = 3;
            ctx.strokeStyle = "#333";
            ctx.stroke();

            // Ch·∫•m t√¢m
            ctx.beginPath();
            ctx.arc(centerX, centerY, 4, 0, 2 * Math.PI);
            ctx.fillStyle = "black";
            ctx.fill();
        }

        // G·ªçi h√†m v·∫Ω khi t·∫£i trang
        window.onload = finalDraw;

    </script>
</body>
</html>